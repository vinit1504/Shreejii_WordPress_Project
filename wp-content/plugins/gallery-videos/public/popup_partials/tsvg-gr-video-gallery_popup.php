<style type="text/css">
	:root{
		--tsvg_popup_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_18 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_popup_bw_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_19 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_bdc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_21 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_popup_rd_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_22 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_p_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_23 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_t_fs_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_24 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_t_ff_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_25 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_popup_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_26 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_popup_l_t_w_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_28 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_l_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_30 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_popup_ar_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_34 ), FILTER_SANITIZE_STRING ); ?>;
		--popup_ar_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_35 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_popup_cl_i_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_38 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_header_cl_i_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_39 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_lo_bdw_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_01 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_lo_bdc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_03 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_lo_bdr_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_04 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_lo_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_06 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_lo_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_07 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_lo_fs_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_08 ), FILTER_VALIDATE_INT ); ?>px;
		--tsvg_lo_ff_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_09 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_lo_hbc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_10 ), FILTER_SANITIZE_STRING ); ?>;
		--tsvg_lo_hc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>:<?php echo filter_var( esc_html( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_11 ), FILTER_SANITIZE_STRING ); ?>;
	}
  	<?php if ( $ts_vgallery_edit == 'true' ) { ?>
		.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show'] ,.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show'] .TS_VGallery_item,.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show'] .TS_VGallery_item >figure,.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show'] .TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>{
		  	position: static!important;
		}
		.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show']  .TS_VGallery_item{
		  	display:flex;
		}
		.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-popup-content='builder-show'] .TotalSoft_GV_SG_Imagediv img{
		  	max-width: 100%;
		}
  	<?php } ?>
	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
		position: fixed;
		background: rgba(0, 0, 0, 0.6);
		width: 100%;
		height: 100%;
		top: 0;
		left: 0;
		z-index: 99999999999 !important;
		opacity: 0;
		display: none;
		overflow: hidden;
		-webkit-perspective: 1000px;
		-moz-perspective: 1000px;
		perspective: 1000px;
		-webkit-transition: opacity 0.5s;
		-moz-transition: opacity 0.5s;
		transition: opacity 0.5s;
	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  {
		opacity: 1;
		display: block;
		-webkit-transition: opacity 0.4s;
		-moz-transition: opacity 0.4s;
		transition: opacity 0.4s;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
	  	width: 100%;
	  	height: 100%;
	  	margin: 0;
	  	list-style: none;
	  	-webkit-transform-style: preserve-3d;
	  	-moz-transform-style: preserve-3d;
	  	transform-style: preserve-3d;
	  	-webkit-transition: -webkit-transform 0.5s;
	  	-moz-transition: -moz-transform 0.5s;
	  	transition: transform 0.5s;
  	}
  	.TS_VGallery_animatable > .TS_VGallery_item {
		-webkit-transition: -webkit-transform 0.7s;
		-moz-transition: -moz-transform 0.7s;
		transition: transform 0.7s;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> *{
		-webkit-transition: all 0.7s ease-out;
		-moz-transition: all 0.7s ease-out;
		-o-transition: all 0.7s ease-out;
		-ms-transition: all 0.7s ease-out;
		transition: all 0.7s ease-out;
	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>{
		margin:0;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item {
	  	padding-left: 0rem;
	  	width: 600px;
	  	max-width: 95%;
	  	position: absolute;
	  	margin: 0 auto;
	  	top: calc(calc(100vh - var(--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)) / 2);
        left: 50%;
        transform: translate(-50%,0%); 
	  	height: max-content;
	  	visibility: hidden;
	  	box-sizing: border-box;
	  	background: none !important;
	  	background-color: inherit  !important;
  	}
   
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item:after{
	  	content: '';
	  	position: absolute;
	  	width: 100%;
	  	height: 100%;
	  	top: 0;
	  	left: 0;
	  	-webkit-transition: opacity 0.5s;-moz-transition: opacity 0.5s;transition: opacity 0.5s;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item.current<?php echo esc_attr( $Total_Soft_vgallery ); ?>:after {
		visibility: hidden;
		opacity: 0;
		-webkit-transition: opacity 0.1s, visibility 0s 0.1s; -moz-transition: opacity 0.1s, visibility 0s 0.1s;transition: opacity 0.1s, visibility 0s 0.1s;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>  {
	  	display: flex;
	  	-webkit-flex-direction: column;-ms-flex-direction: column;flex-direction: column;
	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item.TS_VGallery_show{
		visibility: visible;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_iframecontainer{
		display: flex;
		-webkit-flex-direction: column;-ms-flex-direction: column;flex-direction: column;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_iframecontainer.TS_VGallery_show<?php echo esc_attr( $Total_Soft_vgallery ); ?>{
		z-index: -99 !important;
		opacity: 0.8 ;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .current<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
		z-index: 999999 !important;
		transform: translateX(-50%) translate3d(0, 0, 280px); -webkit-transform: translateX(-50%) translate3d(0, 0, 280px);-moz-transform: translateX(-50%) translate3d(0, 0, 280px); -ms-transform: translateX(-50%) translate3d(0, 0, 280px);
		opacity: 1 !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure {
	  	position: absolute;
	  	width: 100%;
	  	overflow: hidden;
	  	background-color: var(--tsvg_popup_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	border-width: var(--tsvg_popup_bw_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	border-color: var(--tsvg_popup_bdc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	margin: 0;
	  	border-radius: var(--tsvg_popup_rd_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	padding: var(--tsvg_popup_p_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	padding-top:0 ;
	  	max-width: 100%;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure[data-tsvg-effect='solid']{ border-style: solid; }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure[data-tsvg-effect='none']{ border-style: none; }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure[data-tsvg-effect='dashed']{ border-style: dashed; }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure[data-tsvg-effect='dotted']{  
        -webkit-border-style: dotted;
        border-style:dotted;
    }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption {
	  	padding-bottom: 5px;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item .TotalSoft_GV_SG_Videodiv{
	   	position: relative;
	   	padding-top: 56.25%;
   	}
   	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item  figure video,.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item  figure iframe {
	  	height: auto;
	  	position: absolute;
	  	top: 0;
	  	left:0;
	  	width: 100%;
	  	height: 100%;
	  	min-width: 100%;
	  	margin: 0;
	  	display: block;
  	}
  	div.TotalSoft_GV_SG_Imagediv  img{
		height: 100%!important;
		width: 100%!important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item  figure img {
	  	height: auto;
	  	width: auto;
	  	margin: 0 auto !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP {
	 	overflow-y: auto;
	 	overflow-x: hidden;
	 	margin-top: 5px;
	 	padding-right: 10px;
	 	padding: 0 20px;
	 	padding-left: 15px;
	 	height: auto;
	 	width: 100%;
	 	word-break: break-all;
	 	line-height: normal;
		max-height: 75px;
  	}
  	.TS_VGallery__GV_GG_SP {
		/* max-height: 130px; */
		min-height: 25px;
  	}
    .TS_VGallery__GV_GG_SP > p{
        line-height: 15px !important;
        overflow: hidden;
    }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP ul {
	  	margin-bottom: 0px;
	  	margin-left: 10px;
	  	line-height: 15px;
	  	position: relative !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP ul li {
	  	top: unset !important;
	  	position: relative;
	  	margin-bottom: 0px;
	  	margin-top: 0px;
	  	list-style-type: disc !important;
	  	position: relative !important;
	  	visibility: inherit;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item:after {
	  	background-color:  var(--tsvg_popup_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	border-radius: var(--tsvg_popup_rd_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	opacity: 0.8;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure ol, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure ul {
	  	margin-left: 0 !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery_TotalSoft_GV_GG_SP ol li {
	  	top: unset !important;
	  	position: relative;
	  	margin-bottom: 0px;
	  	margin-top: 0px;
	  	position: relative !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption{
	  	font-size: var(--tsvg_popup_t_fs_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	font-family: var(--tsvg_popup_t_ff_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	color: var(--tsvg_popup_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	border: 0!important;
	  	border-bottom-width:var(--tsvg_popup_l_t_w_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)!important;
	  	border-bottom-color:var(--tsvg_popup_l_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)!important;
	  	margin-bottom: 0 !important;
	  	line-height: 1 !important;
	  	font-weight: 400 !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-position='left']{ text-align:left !important;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-position='center']{ text-align:center !important ;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-position='right']{ text-align:right !important ;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-effect='solid']{ border-style: solid!important;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-effect='dashed']{ border-style: dashed!important;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  figcaption[data-tsvg-effect='dotted']{ border-style: dotted!important;}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> p {
	 	margin-bottom: 0 !important;
	 	display: block !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span {
	  	position: fixed;
	  	z-index: 1000;
	  	padding: 3%;
	  	cursor: pointer;
	  	background: none !important;
	  	background-color: inherit !important;
	  	width: auto !important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span:before, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span:after {
	  	content: none;
 	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP::-webkit-scrollbar {
	  	width: 0.5em;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP::-webkit-scrollbar-track {
		-webkit-box-shadow: inset 0 0 6px      var(--tsvg_popup_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>  .TS_VGallery__GV_GG_SP::-webkit-scrollbar-thumb {
		background-color:  var(--tsvg_popup_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
		outline:  var(--tsvg_popup_t_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
  	}
 	.TS_VGallery_show<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
	  	-webkit-transition: opacity 1s ease-out 0.5s;-moz-transition: opacity 1s ease-out 0.5s; -o-transition: opacity 1s ease-out 0.5s; transition: opacity 1s ease-out 0.5s;
  	}
  	@media screen and (max-width: 820px) {
	  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span {
			cursor: default !important;
	  	}
  	}
  	@media screen and (max-width: 480px) {
	  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption {
		  	padding-bottom: 10px !important;
	  	}
	  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figure {
		  	padding: 20px;
	  	}
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next {
	  	font-size:  var(--popup_ar_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	color: var(--tsvg_popup_ar_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
  	}

      .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev i{
        font-size: inherit;
        color:inherit;
    }
    .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next i{
        font-size: inherit;
        color:inherit;
    } 

    .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-close i{
        font-size: inherit;
        color:inherit;
    }

  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-close {
	  	font-size: var(--tsvg_header_cl_i_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	color: var(--tsvg_popup_cl_i_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next{
        top : calc(calc(calc(100vh - var(--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)) / 2) + calc(var(--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) / 2) + calc(var(--tsvg_header_cl_i_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) / 2));
  	}

    @media only screen and (max-width: 650px) {
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next{
            top : calc(calc(calc(100vh - var(--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)) / 2) + calc(var(--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) ) + var(--tsvg_header_cl_i_s_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) );
  	    }
    }
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev {
		left: 0;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next {
		right: 0;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-close {
		top: 2%;
		right: 0;
  	}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
	  	position: absolute ;
	  	padding: 3px 10px !important;
	  	<?php if ( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_27 == 'right' ) {
				echo 'left';
			} else {
				echo 'right';
			} 
		?> : 30px !important;
	  	border-width: var(--tsvg_lo_bdw_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	border-color: var(--tsvg_lo_bdc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>);
	  	border-radius: var(--tsvg_lo_bdr_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	text-decoration: none !important;
	  	background-color: var(--tsvg_lo_bc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>)!important;
	  	color: var(--tsvg_lo_c_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	line-height: 1 !important;
	  	font-family: var(--tsvg_lo_ff_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	font-size: var(--tsvg_lo_fs_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	box-shadow: none !important;-moz-box-shadow: none !important;-webkit-box-shadow: none !important;
  	}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-tsvg-effect='solid']{ border-style: solid;}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-tsvg-effect='dashed']{ border-style: dashed;}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-tsvg-effect='dotted']{ border-style: dotted;}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>:hover {
	  	text-decoration: none !important;
	  	background-color: var(--tsvg_lo_hbc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	color: var(--tsvg_lo_hc_<?php echo esc_attr( $Total_Soft_vgallery ); ?>) !important;
	  	box-shadow: none !important; -moz-box-shadow: none !important; -webkit-box-shadow: none !important;
  	}
  	.TS_VGallery__GV_GVG_Link<?php echo esc_attr( $Total_Soft_vgallery ); ?>:focus {
		box-shadow: none !important;-moz-box-shadow: none !important;-webkit-box-shadow: none !important; outline: none !important;
  	}
	div.TS_VGallery_center {
		text-align: center !important;
		margin-top: 10px;
		margin-bottom: 10px;
		width: 100%;
		box-sizing: border-box;
		overflow: hidden;
	}
 	.TS_VGallery_item_block_link__<?php echo esc_attr( $Total_Soft_vgallery ); ?>{
		height:30px;
		margin-top:10px;
		text-align:right;
 	}   
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> li.show<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
	  	visibility: visible!important;
  	}
  	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .current<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
		z-index: 999999 !important;
  	}
  	.show<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
		-webkit-transition: opacity 1s ease-out 0.5s;
		-moz-transition: opacity 1s ease-out 0.5s;
		-o-transition: opacity 1s ease-out 0.5s;
		transition: opacity 1s ease-out 0.5s;
	}
	.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open {
		opacity: 1;
		display: block;
		-webkit-transition: opacity 0.4s;
		-moz-transition: opacity 0.4s;
		transition: opacity 0.4s;
	}
    .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> >.TS_VGallery_item:not(.current<?php echo esc_attr( $Total_Soft_vgallery ); ?>) .TotalSoft_bgr_iframe {
        display:block !important;
  	}
      .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> >.TS_VGallery_item:not(.current<?php echo esc_attr( $Total_Soft_vgallery ); ?>) .TotalSoft_loder {
        display:none !important;
  	}


    .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item figure .TotalSoft_loder_hide{
        display:none;
    }
    .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item figure .TotalSoft_loder{
        height: auto!important;
		width: 35px!important;
        min-width: 0!important;
        min-height:0!important;
        left: 50%;
        top:50%;
        transform: translate(-50%, -50%);
    }
	a[href=""], .TS_VGallery_item_block_desc__<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-tsvg-bool="false"],.TS_VGallery_item_block_title__<?php echo esc_attr( $Total_Soft_vgallery ); ?>[data-tsvg-bool="false"]{
		display:none!important;
	}
    

    @media only screen and (max-width: 1000px) and (max-height: 600px) {
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item {
            width:450px;
        }
    }
    @media only screen and (max-width: 600px) and (max-height: 400px) {
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item {
            width:400px;
            top:5%;
        }
    }
    @media only screen and (max-height:600px) {
        
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next{
            top: 50%;
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            transform: translateY(-50%);
        }

    }
    @media only screen and (max-height:420px) {
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item {
            top:2%;
        }
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next{
            top: 50%;
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            transform: translateY(-50%);
        }
    }
    @media only screen and (max-height:420px) {
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> > .TS_VGallery_item {
            top:2%;
        }
        .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-prev, .TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.TS_VGallery_nav-next{
            top: 50%;
            -webkit-transform: translateY(-50%);
            -moz-transform: translateY(-50%);
            transform: translateY(-50%);
        }
    }
    @media screen and (min-width: 820px) {
		.TS_VGallery_blocks-gallery-item_block__<?php echo esc_attr( $Total_Soft_vgallery ); ?> {
			padding-top: 5.25%;
			margin-left: 3px
		}
	}

</style>
<?php
$tsvg_figur_popup = '';
$i                = 0;
foreach ( $ts_galleryv_videos_Columned as $key => $value ) {
	$i++;
	$ts_vgallery_Question_TS_VG_Options = json_decode( $ts_galleryv_videos_Columned[ $key ]->TS_VG_Options );
	$TS_VGallery_link_show              = $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_link ? 'true' : 'false';
	$TS_VGallery_url_v                  = $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_Vd;
	$TS_VGallery_url_i                  = $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_Im == '' ? esc_url( plugins_url( '/img/tsvg_no_video.png', __DIR__ ) ) : esc_url( $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_Im );
	$TS_VGallery_url_vont               = $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_vont == '' ? '_self' : '_blank';
    // switch ( true ) {
	// 	case $TS_VGallery_url_v == '':
	// 		$elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv"><img src="%s"></div>', esc_url( $TS_VGallery_url_i ) );
	// 		$class_url = 'imagecontainer';
	// 		break;
	// 	case strpos( $TS_VGallery_url_v, '.mp4' ) > - 1:
	// 		$elem      = sprintf( '<div class="TotalSoft_GV_SG_Videodiv"> <video controls  poster="%s"> <source src="%s" type="video/mp4"> </video></div>', esc_url( $TS_VGallery_url_i ), esc_url( $TS_VGallery_url_v ) );
	// 		$class_url = 'videocontainer';
	// 		break;
	// 	case strpos( $TS_VGallery_url_v, 'youtube' ) > - 1:
    //         $elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv TotalSoft_iframe-field" data-creat_src="%s"><img src="%s" class="TotalSoft_loder TotalSoft_loder_hide"></div>', esc_url($TS_VGallery_url_v ),esc_url( plugin_dir_url( __DIR__ ) . '/img/loading.gif') );
	// 		$class_url = 'iframecontainer';
	// 		break;
	// 	default:
    //         $elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv TotalSoft_iframe-field" data-creat_src="%s"><img src="%s" class="TotalSoft_bgr_iframe"><img src="%s" class="TotalSoft_loder TotalSoft_loder_hide"></div>', esc_url($TS_VGallery_url_v ), esc_url($TS_VGallery_url_i ),esc_url( plugin_dir_url( __DIR__ ) . '/img/loading.gif') );
	// 		$class_url = 'iframecontainer';
	// 		break;
	// }
    switch ( true ) {
		case $TS_VGallery_url_v == '':
			$elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv"><img src="%s"></div>', esc_url( $TS_VGallery_url_i ) );
			$class_url = 'imagecontainer';
			break;
		case strpos( $TS_VGallery_url_v, '.mp4' ) > - 1:
			$elem      = sprintf( '<div class="TotalSoft_GV_SG_Videodiv"> <video controls controlslist="nodownload"  poster="%s"> <source src="%s" type="video/mp4"> </video></div>', esc_url( $TS_VGallery_url_i ), esc_url( $TS_VGallery_url_v ) );
			$class_url = 'videocontainer';
			break;
		case strpos( $TS_VGallery_url_v, 'youtube' ) > - 1:
            $elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv TotalSoft_iframe-field" data-creat_src="%s"><img src="%s" class="TotalSoft_bgr_iframe"><img src="%s" class="TotalSoft_loder TotalSoft_loder_hide"></div>', esc_url($TS_VGallery_url_v ), esc_url($TS_VGallery_url_i ),esc_url( plugin_dir_url( __DIR__ ) . '/img/loading.gif') );
			$class_url = 'iframecontainer';
			break;
		default:
            $elem      = sprintf( '<div class="TotalSoft_GV_SG_Imagediv TotalSoft_iframe-field" data-creat_src="%s"><img src="%s" class="TotalSoft_bgr_iframe"><img src="%s" class="TotalSoft_loder TotalSoft_loder_hide"></div>', esc_url($TS_VGallery_url_v ), esc_url( $TS_VGallery_url_i ),esc_url( plugin_dir_url( __DIR__ ) . '/img/loading.gif') );
			$class_url = 'iframecontainer';
			break;
	}
	$tsvg_figur_popup .= sprintf(
		"
    	<li class='%s TS_VGallery_item tsvg-%s' data-tsvg-id='%s'  >
      		<figure class='TS_VGallery_item_block__%s' data-tsvg-effect='%s'>
       			<figcaption class='TS_VGallery_item_block_title__%s' data-tsvg-position='%s'  data-tsvg-bool='%s' data-tsvg-effect='%s' >
          			%s
       			</figcaption>
       			<div class='TS_VGallery__GV_GG_SP TS_VGallery_item_block_desc__%s' data-tsvg-bool='%s'>
       			   	%s
       			</div>
       			<div class='TS_VGallery__GV_GG_SP TS_VGallery_item_block_link__%s'data-tsvg-bool='%s' >
          			<a class='TS_VGallery__GV_GVG_Link%s' href='%s' target='%s' >%s</a>
      			</div>
        		%s
      		</figure>
    	</li>
  		",
		esc_attr( $class_url ),
		esc_attr( $i ),
		$ts_galleryv_videos_Columned[ $key ]->id,
		esc_attr( $Total_Soft_vgallery ),
		esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_20 ),
		esc_attr( $Total_Soft_vgallery ),
		esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_27 ),
		esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_22 ),
		esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_29 ),
		esc_html( html_entity_decode( htmlspecialchars_decode( $ts_galleryv_videos_Columned[ $key ]->TS_VG_SetName ), ENT_QUOTES ) ),
		esc_attr( $Total_Soft_vgallery ),
		esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_23 ),
		wp_unslash( html_entity_decode( $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_desc ) ),
		esc_attr( $Total_Soft_vgallery ),
		esc_attr( $TS_VGallery_link_show ),
		esc_attr( $Total_Soft_vgallery ),
		esc_url( $ts_vgallery_Question_TS_VG_Options->TotalSoftVGallery_Vid_link ),
		esc_attr( $TS_VGallery_url_vont ),
		esc_html( html_entity_decode( htmlspecialchars_decode( $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_05 ), ENT_QUOTES ) ),
		$elem
	);
}
echo sprintf(
	"
  	<figure  class='TS_VGallery_slideshow%s ' data-popup-content='builder-hide' data-popup-label='Popup 1'  >
  	    <ul class='TS_VGallery_nav-close-RW%s '>
  	        %s  
  	    </ul>
  	    <nav>
  	        <span class='TS_VGallery_icon%s TS_VGallery_nav-prev'>
  	        	<i class='%s'></i>
  	        </span>
  	        <span class='TS_VGallery_icon%s TS_VGallery_nav-next'>
  	        	<i  class='%s'></i>
  	        </span>
  	        <span class='TS_VGallery_icon%s TS_VGallery_nav-close ' id='TS_VGallery_close-all-video%s'>
  	        	<i class='%s'></i>
  	        </span>
  	    </nav>
  	</figure>",
	esc_attr( $Total_Soft_vgallery ),
	esc_attr( $Total_Soft_vgallery ),
	$tsvg_figur_popup,
	esc_attr( $Total_Soft_vgallery ),
	esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_32 ),
	esc_attr( $Total_Soft_vgallery ),
	esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_33 ),
	esc_attr( $Total_Soft_vgallery ),
	esc_attr( $Total_Soft_vgallery ),
	esc_attr( $tsvgallery_TS_VG_Styles->TotalSoft_GV_1_36 )
);
?>
<script>
function getViewportW() {
	var docElem = window.document.documentElement;
	var client=docElem['clientWidth'], inner=window['innerWidth'];
	if(inner > client) return inner; else return client;
}
function Total_Soft_GV_GVG_PagePresp_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>() {
    if (jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul').height() <= 400) {
        jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('display', 'none');
        jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.nav-close').css('top', '0%');
    } else {
        jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('display', 'block');
        jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> nav span.nav-close').css('top', '0%');
    }
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').css('width', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').height() * 16 / 9));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').css('min-width', '100%');
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').css('min-height', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').width() * 9 / 16));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').css('max-height', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').width() * 9 / 16));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').css('margin-left', Math.floor((jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure').width() - jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure iframe').width()) / 2));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('width', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').height() * 16 / 9));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('min-width', '100%');
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('max-width', '100%');
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('min-height', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').width() * 9 / 16));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('max-height', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').width() * 9 / 16));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').css('margin-left', Math.floor((jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure').width() - jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul li figure video').width()) / 2));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('font-size', Math.floor(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('font-size') * jQuery(window).width() / (jQuery(window).width() + 150)));
    jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('line-height', jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> figcaption p').css('font-size'));
    if (jQuery('.TS_VGallery_GRWR-<?php echo esc_attr( $Total_Soft_vgallery ); ?>').width() <= 450) {
        jQuery('.GRU<?php echo esc_attr( $Total_Soft_vgallery ); ?> li').css('width', '100%');
        jQuery('.TS_VGallery_GRWR-<?php echo esc_attr( $Total_Soft_vgallery ); ?>').each(function (index, elem) {
            if (jQuery(elem).width() == "0") {
                jQuery(elem).find('.GRU<?php echo esc_attr( $Total_Soft_vgallery ); ?> li').css({
                    'height': jQuery('.TS_VGallery_item').outerHeight(), 'width': jQuery('.TS_VGallery_item').outerWidth()
                });
                jQuery(elem).find('.GRU<?php echo esc_attr( $Total_Soft_vgallery ); ?> .grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>-sizer').css({ 'height': '0' });
                jQuery(elem).find('#GRU<?php echo esc_attr( $Total_Soft_vgallery ); ?>').css({ 'width': jQuery(elem).find('.TS_VGallery_item').not('.noshow1').not('.grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>-sizer').length * jQuery(elem).find('.TS_VGallery_item').not('.noshow1').not('.grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>-sizer').width() + 'px' });
            }
        });
    }
    var TS_VG_GG_PP = parseInt(jQuery('.TS_VG_GG_PP_<?php echo esc_attr( $Total_Soft_vgallery ); ?>').val());
    var TS_VG_GG_PT = jQuery('.TS_VG_GG_PT_<?php echo esc_attr( $Total_Soft_vgallery ); ?>').val();
    jQuery('.grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>').css({ 'margin': '5px' });
    var width = jQuery('.TS_VGallery_item').width();
    jQuery('.widget_Total_Soft_vgallery').each(function (index, el) {
        if (jQuery(el).find('#TotalSoftPageDiv_<?php echo esc_attr( $Total_Soft_vgallery ); ?>') !== null) {
            if (width >= jQuery(el).width()) {
                jQuery(el).find('#GRU<?php echo esc_attr( $Total_Soft_vgallery ); ?>').css({ 'margin': '0' });
                jQuery(el).css({ 'padding-left': '0', 'padding-right': '0' });
            }
        }
    });
}
function CBPGridGalleryForAdmin(){
	new CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>(document.getElementById('grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>-gallery'));
}
function resizeGridForAdmin(){
    setGrid_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>();
}
var interval_fn_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>= setInterval(setGrid_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>, 100);
function setGrid_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>() {
	if(
	    typeof(jQuery) != "undefined" && jQuery != null && 
	    typeof(window.Modernizr) != "undefined" && window.Modernizr != null && 
	    typeof(window.imagesLoaded) != "undefined" && window.imagesLoaded != null && 
	    jQuery(".TS_VGallery_GRWR-<?php echo esc_attr( $Total_Soft_vgallery ); ?>").width() !== 0 && 
	    typeof(window.CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>) != "undefined" && window.CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?> != null
        && document.readyState === 'complete'
	){
		jQuery(function() {
			jQuery( window ).on('resize', function(){
			 	Total_Soft_GV_GVG_PagePresp_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>();
			 	var interval_res_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?> = setInterval(resGrid_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>, 100);
			 	function resGrid_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>() {
                    let itemSelctor = '.TS_VGallery_blocks-gallery-item';
                    new Masonry(document.querySelector('ul.TS_VGallery_blocks-gallery-grid-<?php echo esc_attr( $Total_Soft_vgallery ); ?>'), {
                        itemSelector: itemSelctor
                    });
			 	}
			  	setTimeout(() => { clearInterval(interval_res_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>); }, "1000");
			});
		});
		var ifr_height=jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').find('.iframecontainer').find('iframe').height();
		jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').find('.videocontainer').find('video').css({
			'min-height': ifr_height + 'px', 'max-height': ifr_height + 'px'
		});
		new  CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>(document.getElementById('grid<?php echo esc_attr( $Total_Soft_vgallery ); ?>-gallery'));
		clearInterval(interval_fn_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>);
		<?php if ( $ts_vgallery_edit != 'true' ) { ?>
			jQuery('body').append( jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>'));
		<?php } ?>
	}
}
</script>
<script type="text/javascript">
(function (window) {
    'use strict';
    // #1
    var docElem = window.document.documentElement,
        transEndEventNames = {
            'WebkitTransition': 'webkitTransitionEnd', 'MozTransition': 'transitionend', 'OTransition': 'oTransitionEnd', 'msTransition': 'MSTransitionEnd', 'transition': 'transitionend'
        },
        transEndEventName = {},
        support = {};
    function setTransform(el, transformStr) {
        if(el){
            el.style.WebkitTransform = transformStr;
            el.style.msTransform = transformStr;
            el.style.transform = transformStr;
        }
    }
    function getViewportW() {
        var client = docElem['clientWidth'], inner = window['innerWidth'];
        if (inner > client ) return inner; else return client;
    }
    function extend(a, b) {
        for (var key in b) {
            if (b.hasOwnProperty(key)) {
                a[key] = b[key];
            }
        }
        return a;
    }
    function CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>(el, options) {
        this.el = el;
        this.options = extend({}, this.options);
        extend(this.options, options);
        transEndEventName = transEndEventNames[Modernizr.prefixed('transition')];
        support = { transitions: Modernizr.csstransitions, support3d: Modernizr.csstransforms3d };
        // if(!jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').hasClass('TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open')){
            jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').replaceWith(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').clone());
        // }
        if(this.el){
            this._init();
        }  
    }
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype.options = {};
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._init = function () {
        // main grid #1
        this.grid = this.el.querySelector('ul.TS_VGallery_blocks-gallery-grid-<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
        // main grid items #2
        this.gridItems = [].slice.call(this.grid.querySelectorAll('li'));
        // items total
        this.itemsCount = this.gridItems.length;
        // slideshow grid
        this.TS_VGallery_slideshow = document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> > ul');
        // slideshow grid items
        this.slideshowItems = [].slice.call(this.TS_VGallery_slideshow.children);
        // index of current slideshow item
        this.current = -1;
        // slideshow control buttons
        this.ctrlPrev = document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> > nav > span.TS_VGallery_nav-prev');
        this.ctrlNext = document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> > nav > span.TS_VGallery_nav-next');
        this.ctrlClose = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
        this.ctrlClose2 = document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> > nav > span.TS_VGallery_nav-close');
        // init masonry grid
        this._initMasonry();
        // init events
        this._initEvents();
    };
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._initMasonry = function () {
        var grid = this.grid;
        var self = this;
        let itemSelctor = '.TS_VGallery_blocks-gallery-item';
        if (jQuery('.ts_vgallery_main_<?php echo esc_attr( $Total_Soft_vgallery ); ?>').attr("data-pagination") != 'all') {
            itemSelctor = 'li.item-show';
        }
        if (imagesLoaded) {
            imagesLoaded(grid, function () {
                new Masonry(grid, {
                    itemSelector: itemSelctor, columnWidth: grid.firstElementChild,

                });
            });
        }

        var delaytime = 0;
        var TS_VG_GG_AE = '';
        jQuery('.TS_VGallery_grid-wrap_<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_blocks-gallery-item').each(function (i) {
            TS_VG_GG_AE = '<?php echo $tsvgallery_TS_VG_Styles->TotalSoft_GV_2_26; ?>';
            delaytime++;
            // if (TS_VG_GG_AE == '' && jQuery('.ts_vgallery_main_<?php echo esc_attr( $Total_Soft_vgallery ); ?>').attr("data-pagination") == 'all') {
            //     jQuery(this).css({ 'display': 'flex', 'animation-delay': ' ' + 0.3 * delaytime + 's' });
            // }
            // else if (TS_VG_GG_AE == 'fadeIn') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'fadeIn 0.65s ease ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'fadeIn 0.65s ease ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'fadeIn 0.65s ease ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'moveUp') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'moveUp 0.65s ease ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'moveUp 0.65s ease ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'moveUp 0.65s ease ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'scaleUp') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'scaleUp 0.65s ease-in-out ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'scaleUp 0.65s ease-in-out ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'scaleUp 0.65s ease-in-out ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'fallPerspective') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'fallPerspective 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'fallPerspective 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'fallPerspective 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'fly') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'fly 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'fly 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'fly 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'flip') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'flip 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'flip 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'flip 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'helix') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'helix 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'helix 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'helix 0.8s ease-in-out ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
            // else if (TS_VG_GG_AE == 'popUp') {
            //     jQuery(this).css({
            //         "display": "block", 'animation': 'popUp 0.8s ease-in ' + 0.2 * delaytime + 's forwards', '-webkit-animation': 'popUp 0.8s ease-in ' + 0.2 * delaytime + 's forwards', '-moz-animation': 'popUp 0.8s ease-in ' + 0.2 * delaytime + 's forwards'
            //     });
            // }
        })
        window.addEventListener('resize', function () {
            self._resizeHandler();
        });
    };
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._initEvents = function () {
        var self = this;
        // open the slideshow when clicking on the main grid items
        this.gridItems.forEach(function (item, idx) {
            item = jQuery(item).find('img');
            jQuery(item).on("click", function (e) {
                if (e.target !== this) {
                    return;
                } else {
                    e.preventDefault();
                    self._openSlideshow(idx);
                    jQuery('html, body').css({
                        'overflow': 'hidden'
                    });
                }
            })
        });
        // slideshow controls
        this.ctrlPrev.addEventListener('click', function () {
            var items = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children;            
            var x = 0;
            jQuery(items).each(function (i, el) {
                if (jQuery(window).width() > 880) {
                    x--;
                    jQuery(el).css({ 'z-index': x });
                }
                else {
                    jQuery(el).css({ 'z-index': '0' });
                }
            });
            self._navigate('prev');
        });
        this.ctrlNext.addEventListener('click', function () {
            var items = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children;
            var last = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').lastElementChild;
            self._navigate('next');
        });


        this.ctrlPrev.addEventListener('click', function () {
            var items = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children;
            var last = document.querySelector('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').lastElementChild;
            self._navigate('prev');
        });


        this.ctrlClose.addEventListener('click', function (e) {
            if (e.target !== this) {
                return;
            }
            else {
                self._closeSlideshow();
                jQuery('html, body').css({
                    'overflow': 'auto',
                });
            }
            self._closeSlideshow();
        });
        this.ctrlClose2.addEventListener('click', function () {
            self._closeSlideshow();
            jQuery('html, body').css({
                'overflow': 'auto',
            });
        });
        // window resize
        window.addEventListener('resize', function () {
            self._resizeHandler();
        });
        // keyboard navigation events
        document.addEventListener('keydown', function (ev) {
            if (self.isSlideshowVisible) {
                var keyCode = ev.keyCode || ev.which;
                switch (keyCode) {
                    case 37:
                        self._navigate('prev');
                        break;
                    case 39:
                        self._navigate('next');
                        break;
                    case 27:
                        self._closeSlideshow();
                        break;
                }
            }
        });
        // trick to prevent scrolling when slideshow is visible
        // window.addEventListener('scroll', function () {
        //     if (self.isSlideshowVisible) {
        //         window.scrollTo(self.scrollPosition ? self.scrollPosition.x : 0, self.scrollPosition ? self.scrollPosition.y : 0);
        //     }
        //     else {
        //         self.scrollPosition = {
        //             x: window.pageXOffset || docElem.scrollLeft, y: window.pageYOffset || docElem.scrollTop
        //         };
        //     }
        // });
    };
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._openSlideshow = function (pos) {
        this.isSlideshowVisible = true;
        this.current = pos;
        classie.addClass(document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>'), 'TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open');
        /* position slideshow items */
        // set viewport items (current, next and previous)
        this._setViewportItems();
        // add class "current" and "show" to currentItem
        classie.addClass(this.currentItem, 'current<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
        classie.addClass(this.currentItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
        if (jQuery(this.currentItem).hasClass('videocontainer')) {
            // jQuery(this.currentItem).find('video').get(0).play();
        }
        else if (jQuery(this.currentItem).hasClass('iframecontainer')) {
            if(jQuery(this.currentItem).find('.TotalSoft_iframe-field').length){
                jQuery(this.currentItem).find('.TotalSoft_iframe-field .TotalSoft_loder').removeClass('TotalSoft_loder_hide');
                let data_src = jQuery(this.currentItem).find('.TotalSoft_iframe-field').attr('data-creat_src');
                data_src = data_src.split("&");
                data_src = data_src[0];
                
                let Video_SRC_ifr = data_src.split("=");
                    if (Video_SRC_ifr.length > 1) {
                        let src_youtube = Video_SRC_ifr[1].split("&");
                        data_src = 'https://www.youtube.com/embed/' + src_youtube[0];
                    }
                jQuery(this.currentItem).find('.TotalSoft_iframe-field').append(jQuery('<iframe>').attr('src',data_src).attr("frameborder","0").attr("allowFullScreen","").hide());
                setTimeout(() => {
					jQuery(this.currentItem).find('.TotalSoft_iframe-field .TotalSoft_bgr_iframe').hide();
                    jQuery(this.currentItem).find('.TotalSoft_iframe-field .TotalSoft_loder').addClass('TotalSoft_loder_hide');
                    jQuery(this.currentItem).find('.TotalSoft_iframe-field>iframe').show();
                }, 1000);
            }
        }
        // add class show to next and previous items
        // position previous item on the left side and the next item on the right side
        if (this.prevItem) {
            var last = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?> .TS_VGallery_item').last();
            var size = jQuery(window).width();
            var items = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li');
            
            // jQuery(items).each(function (i, el) {
            //     if (jQuery(el).attr('class') == "iframecontainer current<?php echo esc_attr( $Total_Soft_vgallery ); ?> show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
            //     }
            // });
            jQuery(last).on('click touchstart', function () {
                jQuery('.iframecontainer').removeClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
                jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul > li').last().addClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
                jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?> ul > li').last().prev().addClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            });
            classie.addClass(this.prevItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            var translateVal = Number(-1 * (getViewportW() / 2 + this.prevItem.offsetWidth / 2));
            setTransform(this.prevItem, support.support3d ? 'translate3d(' + translateVal + 'px, 0, -150px)' : 'translate(' + translateVal + 'px)');
        }
        if (this.nextItem) {
            var items = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li');
            // jQuery(items).each(function (i, el) {
            //     if (jQuery(el).attr('class') == "iframecontainer current<?php echo esc_attr( $Total_Soft_vgallery ); ?> show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
            //     }
            // });
            var last_item = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li:last-child');
            var first_item = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li:first-child');
            // var totalsoft = jQuery('.TotalSoft_GV_GG_SP').children('ul');
            var class_name = jQuery(last_item).attr('class');
            classie.addClass(this.nextItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            if (class_name != 'iframecontainer current<?php echo esc_attr( $Total_Soft_vgallery ); ?> show<?php echo esc_attr( $Total_Soft_vgallery ); ?>') {
                var translateVal = Number(getViewportW() / 2 - this.nextItem.offsetWidth / 2);
                setTransform(this.nextItem, support.support3d ? 'translate3d(' + translateVal + 'px, 0, -150px)' : 'translate(' + translateVal + 'px)');
            }
        }
        
        let tsvgPopupHeight = jQuery(this.currentItem).find("figure").outerHeight(true),
            root = document.documentElement;
            root.style.setProperty('--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>', tsvgPopupHeight + "px");
    };
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._navigate = function (dir) {
        if (this.isAnimating) return;
        if (dir === 'next' && this.current === this.itemsCount - 1 || dir === 'prev' && this.current === 0) {
            this._closeSlideshow();
            return;
        }
        this.isAnimating = true;
        // reset viewport items
        this._setViewportItems();
        var self = this, itemWidth = this.currentItem != undefined ? this.currentItem.offsetWidth : 0,
            //   var self=this, itemWidth=this.currentItem.offsetWidth, // positions for the centered/current item, both the side items and the incoming ones
            transformLeftStr = support.support3d ? 'translate3d(-' + Number(getViewportW() / 2 + itemWidth / 2) + 'px, 0, -150px)' : 'translate(-' + Number(getViewportW() / 2 + itemWidth / 2) + 'px)',
            transformRightStr = support.support3d ? 'translate3d(' + Number(getViewportW() / 2 - itemWidth / 2) + 'px, 0, -150px)' : 'translate(' + Number(getViewportW() / 2 + itemWidth / 2) + 'px)',
            transformCenterStr = '', transformOutStr, transformIncomingStr, // incoming item
            incomingItem;
        if (dir === 'next') {
            transformOutStr = support.support3d ? 'translate3d( -' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + 'px, 0, -150px )' : 'translate(-' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + 'px)';
            transformIncomingStr = support.support3d ? 'translate3d( ' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + 'px, 0, -150px )' : 'translate(' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + 'px)';
            var size = jQuery(window).width();
            if (820 > size ) {
                var items = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li');
                jQuery(items).each(function (i, el) {
                    if (jQuery(el).attr('class') == "iframecontainer current<?php echo esc_attr( $Total_Soft_vgallery ); ?> show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        jQuery(el).css({}).animate({ opacity: 1 }, 100);
                    }
                    if (jQuery(el).attr('class') == "iframecontainer show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        jQuery(el).css({
                            "z-index": '0',
                        }).animate({ opacity: 1 }, 500);
                    }
                }); 
            }
        } else {
            transformOutStr = support.support3d ? 'translate3d( ' + Number((getViewportW() * 2) / 2 - itemWidth / 2) + 'px, 0, -150px )' : 'translate(' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + itemWidth + 'px)';
            transformIncomingStr = support.support3d ? 'translate3d( -' + Number((getViewportW() * 2) / 2 - itemWidth / 2) + 'px, 0, -150px )' : 'translate(-' + Number((getViewportW() * 2) / 2 + itemWidth / 2) + 'px)';
            var size = jQuery(window).width();
            if (820 > size) {
                var items = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li');
                var x = 0;
                jQuery(items).each(function (i, el) {
                    x--;
                    if (jQuery(el).attr('class') == "iframecontainer current<?php echo esc_attr( $Total_Soft_vgallery ); ?> show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        jQuery(el).css({
                            "opacity": "0",
                        }).animate({ opacity: 1 }, 200);
                    }
                    if (jQuery(el).attr('class') == "iframecontainer show<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        jQuery(el).css({
                            "z-index": x, "opacity": "0",
                        }).animate({ opacity: 1 }, 400);
                    }
                });
            }
        }
        // remove class animatable from the slideshow grid (if it has already)
        if(self.TS_VGallery_slideshow){
            classie.removeClass(self.TS_VGallery_slideshow, 'TS_VGallery_animatable');
        }
        if ((dir === 'next' && this.itemsCount - 2 > this.current) || (dir === 'prev' && this.current > 1)) {
            // we have an incoming item!
            incomingItem = this.slideshowItems[dir === 'next' ? this.current + 2 : this.current - 2];
            setTransform(incomingItem, transformIncomingStr);
            if(incomingItem){
                classie.addClass(incomingItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
        }
        var slide = function () {
            // add class animatable to the slideshow grid
            if(self.TS_VGallery_slideshow){
                classie.addClass(self.TS_VGallery_slideshow, 'TS_VGallery_animatable');
            }
            // overlays:
            if (jQuery(self.currentItem).hasClass('videocontainer')) {
                jQuery(self.currentItem).find('video').get(0).pause();
                jQuery(self.currentItem).find('video').attr("controls", false);
            }
            else if (jQuery(self.currentItem).hasClass('iframecontainer')) {
                jQuery(self.currentItem).find('.TotalSoft_iframe-field .TotalSoft_bgr_iframe').show();
                jQuery(self.currentItem).find('.TotalSoft_iframe-field>iframe').remove();
            }
            if(self.currentItem){
                classie.removeClass(self.currentItem, 'current<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            var nextCurrent = dir === 'next' ? self.nextItem : self.prevItem;
            if(nextCurrent){
                classie.addClass(nextCurrent, 'current<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            if (jQuery(nextCurrent).hasClass('videocontainer')) {
                jQuery(nextCurrent).find('video').get(0).play();
                jQuery(nextCurrent).find('video').prop("controls", true);
            }
            else if (jQuery(nextCurrent).hasClass('iframecontainer')) {
                if(jQuery(nextCurrent).find('.TotalSoft_iframe-field').length){
                    jQuery(nextCurrent).find('.TotalSoft_iframe-field .TotalSoft_loder').removeClass('TotalSoft_loder_hide');
                    let data_src = jQuery(nextCurrent).find('.TotalSoft_iframe-field').attr('data-creat_src');
                    data_src = data_src.split("&");
                    data_src = data_src[0];
                    // if(data_src.indexOf('watch')!= -1) {
                        let Video_SRC_ifr = data_src.split("=");
                        if (Video_SRC_ifr.length > 1) {
                            let src_youtube = Video_SRC_ifr[1].split("&");
                            data_src = 'https://www.youtube.com/embed/' + src_youtube[0];
                        }
                    // }
                    jQuery(nextCurrent).find('.TotalSoft_iframe-field').append(jQuery('<iframe>').attr('src',data_src).attr("frameborder","0").attr("allowFullScreen","").hide());
                    
                    setTimeout(() => {
                        jQuery(nextCurrent).find('.TotalSoft_iframe-field .TotalSoft_bgr_iframe').hide();
                        jQuery(nextCurrent).find('.TotalSoft_iframe-field .TotalSoft_loder').addClass('TotalSoft_loder_hide');
                        jQuery(nextCurrent).find('.TotalSoft_iframe-field>iframe').show();
                    }, 1000);
                }
            }
            setTransform(self.currentItem, dir === 'next' ? transformLeftStr : transformRightStr);
            if (self.nextItem) {
                setTransform(self.nextItem, dir === 'next' ? transformCenterStr : transformOutStr);
            }
            if (self.prevItem) {
                setTransform(self.prevItem, dir === 'next' ? transformOutStr : transformCenterStr);
            }
            if (incomingItem) {
                setTransform(incomingItem, dir === 'next' ? transformRightStr : transformLeftStr);
            }
            var onEndTransitionFn = function (ev) {
                if (support.transitions) {
                    if (ev.propertyName.indexOf('transform') === -1) return false;
                    this.removeEventListener(transEndEventName, onEndTransitionFn);
                }
                if (self.prevItem && dir === 'next') {
                    classie.removeClass(self.prevItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
                }
                else if (self.nextItem && dir === 'prev') {
                    var last_item = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li:last-child');
                    var pre = jQuery(last_item[0]).prev();
                    if (jQuery(pre[0]).attr('class') == "iframecontainer show<?php echo esc_attr( $Total_Soft_vgallery ); ?> current<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        jQuery(last_item[0]).not('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
                    }
                    if (jQuery(pre[0]).attr('class') != "iframecontainer show<?php echo esc_attr( $Total_Soft_vgallery ); ?> current<?php echo esc_attr( $Total_Soft_vgallery ); ?>") {
                        if(self.nextItem){
                            classie.removeClass(self.nextItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
                        }
                    }
                }
                /*------------------------------------------------------*/
                if (dir === 'next') {
                    self.prevItem = self.currentItem;
                    self.currentItem = self.nextItem;
                    if (incomingItem) {
                        self.nextItem = incomingItem;
                    }
                    jQuery(self.prevItem).fadeIn("0.2", function () {
                        jQuery(this).css({ 'display': 'block', });
                    });
                }
                else {
                    self.nextItem = self.currentItem;
                    self.currentItem = self.prevItem;
                    if (incomingItem) {
                        self.prevItem = incomingItem;
                    }
                }
                self.current = dir === 'next' ? self.current + 1 : self.current - 1;
                self.isAnimating = false;
            };
            if (support.transitions) {
                if(self.currentItem){
                    self.currentItem.addEventListener(transEndEventName, onEndTransitionFn);
                }
                else{
                    self.isAnimating = false;
                }
            }
            else {
                onEndTransitionFn();
            }
        };
        setTimeout(slide, 25);
    }
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._closeSlideshow = function (pos) {
        // var all_iframecontainer = jQuery('.iframecontainer').find('iframe');
        // jQuery(all_iframecontainer).each(function (i, el) {
        //     var url = jQuery(el).attr('src');
        //     if (url.indexOf('wistia') != -1) {
        //         var src = jQuery(el).attr('src');
        //         jQuery(el).attr('src', src);
        //     }
        // });
        // remove class slideshow-open from the grid gallery elem
        jQuery('html, body').css({'overflow':'visible'});
        if(jQuery('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>').hasClass('TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open')){
            classie.removeClass(document.querySelector('.TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>'), 'TS_VGallery_slideshow<?php echo esc_attr( $Total_Soft_vgallery ); ?>-open');
        }
            // remove class animatable from the slideshow grid
            if(jQuery(this.TS_VGallery_slideshow).hasClass('TS_VGallery_animatable')){
                classie.removeClass(this.TS_VGallery_slideshow, 'TS_VGallery_animatable');
            }
            var self = this, onEndTransitionFn = function (ev) {
            if (support.transitions) {
                if (ev.tagName.toLowerCase() !== 'ul') return;
                // this.removeEventListener(transEndEventName, onEndTransitionFn);
            }
            // remove classes show and current from the slideshow items
            if(jQuery(self.currentItem).hasClass('current<?php echo esc_attr( $Total_Soft_vgallery ); ?>')){
                classie.removeClass(self.currentItem, 'current<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            if(jQuery(self.currentItem).hasClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>')){
                classie.removeClass(self.currentItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            if (jQuery(self.currentItem).hasClass('videocontainer')) {
                jQuery(self.currentItem).find('video').get(0).pause();
            }
            else if (jQuery(self.currentItem).hasClass('iframecontainer')) {
                jQuery(self.currentItem).find('.TotalSoft_iframe-field .TotalSoft_bgr_iframe').show();
                jQuery(self.currentItem).find('.TotalSoft_iframe-field>iframe').remove();
                // jQuery(self.currentItem).find('iframe').attr('src', jQuery(self.currentItem).find('iframe').attr('src').split('?autoplay=1')[0]+'?autoplay=0');
            }
            if (self.prevItem && jQuery(self.prevItem).hasClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>')) {
                classie.removeClass(self.prevItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            if (self.nextItem && jQuery(self.nextItem).hasClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?>')) {
                classie.removeClass(self.nextItem, 'show<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
            }
            // also reset any transforms for all the items
            self.slideshowItems.forEach(function (item) {
                setTransform(item, '');
            });
            self.isSlideshowVisible = false;
        };
        if (support.transitions) {
            onEndTransitionFn( this.TS_VGallery_slideshow);
        }
        else {
            onEndTransitionFn();
        }
        var items = jQuery('.TS_VGallery_nav-close-RW<?php echo esc_attr( $Total_Soft_vgallery ); ?>').children('li');
        jQuery(items).removeClass('show<?php echo esc_attr( $Total_Soft_vgallery ); ?> current<?php echo esc_attr( $Total_Soft_vgallery ); ?>');
    };
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._setViewportItems = function () {
        this.currentItem = null;
        this.prevItem = null;
        this.nextItem = null;
        if (this.current > 0) {
            this.prevItem = this.slideshowItems[this.current - 1];
        }
        if (this.itemsCount - 1 > this.current ) {
            this.nextItem = this.slideshowItems[this.current + 1];
        }
        this.currentItem = this.slideshowItems[this.current];
    }
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._resizeHandler = function () {
        var self = this;
        function delayed() {
            self._resize();
            self._resizeTimeout = null;
        }
        if (this._resizeTimeout) {
            clearTimeout(this._resizeTimeout);
        }
        this._resizeTimeout = setTimeout(delayed, 50);
    }
    CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>.prototype._resize = function () {
        if (this.isSlideshowVisible) {
            let tsvgPopupHeight = jQuery(this.currentItem).find("figure").outerHeight(true),
            root = document.documentElement;
            root.style.setProperty('--tsvg_popup_elem_height_<?php echo esc_attr( $Total_Soft_vgallery ); ?>', tsvgPopupHeight + "px");
            if (!jQuery(this.nextItem).hasClass("current<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>")) {
                let translateValNext = Number(getViewportW() / 2 - this.nextItem.offsetWidth / 2);
                setTransform(this.nextItem, support.support3d ? 'translate3d(' + translateValNext + 'px, 0, -150px)' : 'translate(' + translateValNext + 'px)');
            }
            if (!jQuery(this.prevItem).hasClass("current<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>")) {
                let translateValPrev = Number(-1 * (getViewportW() / 2 + this.prevItem.offsetWidth / 2));
                setTransform(this.prevItem, support.support3d ? 'translate3d(' + translateValPrev + 'px, 0, -150px)' : 'translate(' + translateValPrev + 'px)');
            }
        }
    }
    window.CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?> = CBPGridGallery_<?php echo esc_attr( $ts_galleryv_videos_Js_id ); ?>;
})(window);
</script>